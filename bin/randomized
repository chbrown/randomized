#!/usr/bin/env node
var randomized = require('..');

function readWrite(input) {
  var trailing_whitespace = input.match(/\s*$/);
  var output = randomized.convert(input.trim());
  process.stdout.write(output + trailing_whitespace);
}

if (require.main === module) {
  if (process.stdin.isTTY) {
    var data = process.argv.slice(2).join(' ');
    readWrite(data);
  }
  else {
    randomized.readStream(process.stdin, function(error, data) {
      if (error) throw error;
      readWrite(data);
    });
  }
}
